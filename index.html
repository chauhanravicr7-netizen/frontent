<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dockside - Timber ERP</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
body { font-family: 'Inter', sans-serif; }
</style>
</head>

<body class="bg-gradient-to-br from-stone-100 via-amber-50 to-stone-200 antialiased">

<div class="flex min-h-screen">

    <!-- LEFT BRAND PANEL -->
    <div class="hidden lg:flex lg:w-1/2 relative items-center justify-center bg-gradient-to-br from-amber-900 via-amber-800 to-stone-900 text-white overflow-hidden">
        
        <div class="absolute inset-0 bg-black opacity-20"></div>

        <div class="relative z-10 text-center px-16">
            <div class="inline-flex items-center justify-center w-24 h-24 bg-white/10 backdrop-blur-md rounded-3xl shadow-2xl mb-8 text-5xl border border-white/20">
                ðŸªµ
            </div>

            <h1 class="text-6xl font-extrabold tracking-tight mb-6">
                Dockside
            </h1>

            <p class="text-amber-100 text-xl leading-relaxed max-w-lg mx-auto">
                The Operating System for Modern Timber Enterprises.  
                Inventory. Logistics. Sales. Intelligence â€” unified.
            </p>

            <div class="mt-10 text-sm text-amber-200 tracking-wide">
                Trusted by growing timber businesses.
            </div>
        </div>
    </div>

    <!-- RIGHT LOGIN PANEL -->
    <div class="w-full lg:w-1/2 flex items-center justify-center p-8">

        <div class="w-full max-w-md">

            <div class="lg:hidden text-center mb-10">
                <span class="text-5xl">ðŸªµ</span>
                <h1 class="text-3xl font-bold text-amber-900 mt-2">Dockside</h1>
            </div>

            <div class="bg-white shadow-2xl rounded-3xl p-10 border border-stone-100">

                <div class="mb-8">
                    <h2 class="text-3xl font-bold text-stone-900 mb-2">Welcome back</h2>
                    <p class="text-stone-500 text-sm">Sign in to access your timber operations dashboard.</p>
                </div>

                <form id="loginForm" class="space-y-6">

                    <div>
                        <label class="block text-sm font-semibold text-stone-700 mb-2">Work Email</label>
                        <input type="email" id="email" placeholder="name@company.com"
                        class="w-full px-4 py-3 border border-stone-200 rounded-xl focus:ring-2 focus:ring-amber-800 focus:border-transparent transition outline-none shadow-sm" required>
                    </div>

                    <div>
                        <div class="flex justify-between mb-2">
                            <label class="text-sm font-semibold text-stone-700">Password</label>
                            <a href="#" class="text-sm font-medium text-amber-800 hover:text-amber-900">Forgot?</a>
                        </div>
                        <input type="password" id="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                        class="w-full px-4 py-3 border border-stone-200 rounded-xl focus:ring-2 focus:ring-amber-800 focus:border-transparent transition outline-none shadow-sm" required>
                    </div>

                    <div class="flex items-center justify-between text-sm">
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" class="rounded border-stone-300 text-amber-800 focus:ring-amber-700">
                            <span class="text-stone-600">Remember me</span>
                        </label>
                    </div>

                    <div id="error" class="p-4 bg-red-50 border-l-4 border-red-500 rounded-md hidden">
                        <p class="text-sm text-red-700 font-medium" id="errorMsg"></p>
                    </div>

                    <button type="submit"
                    class="w-full bg-gradient-to-r from-amber-900 to-stone-800 hover:from-amber-800 hover:to-stone-700 text-white font-semibold py-3.5 rounded-xl shadow-lg transition transform active:scale-[0.98] text-lg">
                        Sign in to Dashboard
                    </button>

                </form>

                <div class="mt-8 pt-6 border-t border-stone-100 text-center text-xs text-stone-400">
                    Secure access â€¢ Encrypted authentication â€¢ Enterprise ready
                </div>

            </div>

            <div class="mt-6 text-center text-sm text-stone-500">
                Demo: <span class="font-semibold text-stone-700">demo@dockside.com</span> / <span class="font-semibold text-stone-700">demo123456</span>
            </div>

        </div>
    </div>
</div>

<script>
const API_URL = 'https://dockside-api.onrender.com';

document.getElementById('loginForm').addEventListener('submit', async (e) => {
e.preventDefault();

const email = document.getElementById('email').value;
const password = document.getElementById('password').value;
const errorDiv = document.getElementById('error');
const errorMsg = document.getElementById('errorMsg');

try {
    const response = await fetch(`${API_URL}/api/auth/login`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ email, password })
    });

    const data = await response.json();

    if (response.ok) {
        localStorage.setItem('token', data.token);
        localStorage.setItem('email', data.email);

        // Simulated clean dashboard entry
        document.body.innerHTML = `
        <div class="min-h-screen bg-stone-100 flex flex-col">

            <div class="bg-white shadow-sm border-b border-stone-200 px-8 py-4 flex justify-between items-center">
                <div class="text-xl font-bold text-amber-900">Dockside Dashboard</div>
                <div class="text-sm text-stone-600">${email}</div>
            </div>

            <div class="flex-1 flex items-center justify-center">
                <div class="bg-white p-12 rounded-2xl shadow-xl border border-stone-100 text-center">
                    <h1 class="text-3xl font-bold text-stone-900 mb-4">System Ready</h1>
                    <p class="text-stone-600 mb-6">Your Timber Operating System is active.</p>
                    <button onclick="window.location.reload()" class="text-amber-800 underline text-sm">Logout</button>
                </div>
            </div>

        </div>`;
    } else {
        errorDiv.classList.remove('hidden');
        errorMsg.textContent = data.error || 'Login failed';
    }

} catch (error) {
    errorDiv.classList.remove('hidden');
    errorMsg.textContent = 'Network error. Please try again.';
}
});
</script>

</body>
</html>
